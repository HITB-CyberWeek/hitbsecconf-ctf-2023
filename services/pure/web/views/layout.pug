if darkMode
  - var elementMode = 'light'
  - var themeMode = 'dark'
else
  - var elementMode = 'dark'
  - var themeMode = 'light'

doctype html
html(data-bs-theme=themeMode)
  head
    block title

    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css', rel='stylesheet', crossorigin='anonymous')
    link(href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css', rel='stylesheet')
  body
    div(class='container')
      nav(class=`navbar navbar-expand-lg navbar-${themeMode} bg-${themeMode}`)
        div(class='container-fluid')
          a(class='navbar-brand', href='/')
            span(class='bi bi-journals')
            |&nbsp;pure

          div(class='navbar-collapse collapse')
            ul(class='navbar-nav me-auto')
              li(class='nav-item')
                div(class="form-check form-switch")
                  if darkMode
                    input(class="form-check-input", type="checkbox", role="switch", id="darkModeSwitch", checked)
                  else
                    input(class="form-check-input", type="checkbox", role="switch", id="darkModeSwitch")
                  label(class="form-check-label", for="darkModeSwitch") Dark mode

            block navbar

      div(class='row')
        block content

  script(src='https://code.jquery.com/jquery-3.5.1.slim.min.js', crossorigin='anonymous')
  script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js', crossorigin='anonymous')
  script.
    $(document).ready(function(){
        $('#darkModeSwitch').on('change', function (e) {
            if ($(this).is(':checked')) {
                document.cookie = "settings=darkMode:1";
            } else {
                document.cookie = "settings=darkMode:0";
            }
            window.location.reload();
        });
    });
